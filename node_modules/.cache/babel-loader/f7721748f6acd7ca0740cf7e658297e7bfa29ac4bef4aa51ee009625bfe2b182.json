{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab905f6e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"vote-page\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  disabled: \"\"\n}, \"请选择\", -1 /* HOISTED */));\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.selectedVoteType ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"h2\", null, \"请为你喜欢的\" + _toDisplayString($data.voteTypeMap[$data.selectedVoteType]) + \"投票\", 1 /* TEXT */), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedOption = $event),\n    disabled: $data.hasVoted,\n    class: \"vote-select\"\n  }, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.options, option => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: option.id,\n      value: option.id\n    }, _toDisplayString(option.name), 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_3), [[_vModelSelect, $data.selectedOption]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.submitVote && $options.submitVote(...args)),\n    disabled: $data.hasVoted,\n    class: \"vote-button\"\n  }, \"Vote\", 8 /* PROPS */, _hoisted_6), $data.hasVoted ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, \"您已为 \" + _toDisplayString($data.selectedCampaignId) + \" 投票,选项为:\" + _toDisplayString($data.selectedOptionName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementVNode","value","disabled","_createElementBlock","_hoisted_1","$data","selectedVoteType","_hoisted_2","_toDisplayString","voteTypeMap","_cache","$event","selectedOption","hasVoted","_hoisted_4","_Fragment","_renderList","options","option","id","name","_hoisted_5","_hoisted_3","onClick","args","$options","submitVote","_hoisted_6","_hoisted_7","selectedCampaignId","selectedOptionName","_createCommentVNode"],"sources":["/Users/wangxiao/voting_front/src/components/VotePage.vue"],"sourcesContent":["<!-- VotePage.vue -->\n<template>\n  <div class=\"vote-page\">\n    <div v-if=\"selectedVoteType\">\n      <h2>请为你喜欢的{{ voteTypeMap[selectedVoteType] }}投票</h2>\n      <select v-model=\"selectedOption\" :disabled=\"hasVoted\" class=\"vote-select\">\n        <option value=\"\" disabled>请选择</option>\n        <option v-for=\"option in options\" :key=\"option.id\" :value=\"option.id\">\n          {{ option.name }}\n        </option>\n      </select>\n      <button @click=\"submitVote\" :disabled=\"hasVoted\" class=\"vote-button\">Vote</button>\n      <p v-if=\"hasVoted\">您已为 {{ selectedCampaignId }} 投票,选项为:{{ selectedOptionName }}</p>\n    </div>\n  </div>\n</template>\n\n  \n  <script>\n  export default {\n    data() {\n      return {\n        selectedVoteType: '',\n        selectedOption: '',\n        selectedCampaignId: '',\n        selectedOptionName: '',\n        hasVoted: false,\n        voteTypeMap: {\n          project: 'Project',\n          people: 'People',\n          product: 'Product'\n        },\n        options: []\n      };\n    },\n    created() {\n      this.selectedVoteType = this.$route.params.type;\n      this.fetchOptions();\n    },\n    methods: {\n      fetchOptions() {\n        // 模拟从后端获取选项数据,根据不同的投票类型获取相应的选项\n        let options = [];\n        if (this.selectedVoteType === 'project') {\n          options = [\n            { id: 1, name: 'Project 1' },\n            { id: 2, name: 'Project 2' },\n            { id: 3, name: 'Project 3' }\n          ];\n        } else if (this.selectedVoteType === 'people') {\n          options = [\n            { id: 1, name: 'Person 1' },\n            { id: 2, name: 'Person 2' },\n            { id: 3, name: 'Person 3' }\n          ];\n        } else if (this.selectedVoteType === 'product') {\n          options = [\n            { id: 1, name: 'Product 1' },\n            { id: 2, name: 'Product 2' },\n            { id: 3, name: 'Product 3' }\n          ];\n        }\n        this.options = options;\n      },\n      submitVote() {\n        // 提交投票请求到后端\n        // 这里简化处理,直接更新数据\n        this.hasVoted = true;\n        this.selectedCampaignId = 'Campaign123';\n        this.selectedOptionName = this.options.find(option => option.id === this.selectedOption).name;\n      }\n    }\n  };\n  </script>\n  \n\n\n  <style scoped>\n  .vote-select {\n    margin-bottom: 20px;\n  }\n  \n  .vote-button {\n    background-color: #007bff;\n    color: #fff;\n    border: none;\n    padding: 10px 20px;\n    cursor: pointer;\n  }\n  \n  .vote-button:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n  \n  select:disabled {\n    background-color: #f0f0f0;\n  }\n  </style>"],"mappings":";;;EAEOA,KAAK,EAAC;AAAW;;EAFxBC,GAAA;AAAA;mBAAA;gEAMQC,mBAAA,CAAsC;EAA9BC,KAAK,EAAC,EAAE;EAACC,QAAQ,EAAR;GAAS,KAAG;mBANrC;mBAAA;;EAAAH,GAAA;AAAA;;uBAEEI,mBAAA,CAYM,OAZNC,UAYM,GAXOC,KAAA,CAAAC,gBAAgB,I,cAA3BH,mBAAA,CAUM,OAbVI,UAAA,GAIMP,mBAAA,CAAoD,YAAhD,QAAM,GAAAQ,gBAAA,CAAGH,KAAA,CAAAI,WAAW,CAACJ,KAAA,CAAAC,gBAAgB,KAAI,IAAE,iB,gBAC/CN,mBAAA,CAKS;IAVf,uBAAAU,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAKuBN,KAAA,CAAAO,cAAc,GAAAD,MAAA;IAAGT,QAAQ,EAAEG,KAAA,CAAAQ,QAAQ;IAAEf,KAAK,EAAC;MAC1DgB,UAAsC,G,kBACtCX,mBAAA,CAESY,SAAA,QATjBC,WAAA,CAOiCX,KAAA,CAAAY,OAAO,EAAjBC,MAAM;yBAArBf,mBAAA,CAES;MAF0BJ,GAAG,EAAEmB,MAAM,CAACC,EAAE;MAAGlB,KAAK,EAAEiB,MAAM,CAACC;wBAC7DD,MAAM,CAACE,IAAI,wBARxBC,UAAA;kDAAAC,UAAA,I,gBAKuBjB,KAAA,CAAAO,cAAc,E,GAM/BZ,mBAAA,CAAkF;IAAzEuB,OAAK,EAAAb,MAAA,QAAAA,MAAA,UAAAc,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;IAAGtB,QAAQ,EAAEG,KAAA,CAAAQ,QAAQ;IAAEf,KAAK,EAAC;KAAc,MAAI,iBAX/E6B,UAAA,GAYetB,KAAA,CAAAQ,QAAQ,I,cAAjBV,mBAAA,CAAmF,KAZzFyB,UAAA,EAYyB,MAAI,GAAApB,gBAAA,CAAGH,KAAA,CAAAwB,kBAAkB,IAAG,UAAQ,GAAArB,gBAAA,CAAGH,KAAA,CAAAyB,kBAAkB,oBAZlFC,mBAAA,e,KAAAA,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}