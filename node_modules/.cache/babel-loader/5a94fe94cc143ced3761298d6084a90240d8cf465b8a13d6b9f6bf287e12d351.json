{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'VotePage',\n  data() {\n    return {\n      campaigns: [{\n        id: 1,\n        name: 'Campaign 1',\n        options: ['Option 1', 'Option 2']\n      }, {\n        id: 2,\n        name: 'Campaign 2',\n        options: ['Option 3', 'Option 4']\n      }\n      // 添加更多的 campaign 数据\n      ],\n      selectedCampaign: null,\n      selectedOption: null\n    };\n  },\n  computed: {\n    selectedCampaignOptions() {\n      const campaign = this.campaigns.find(c => c.id === this.selectedCampaign);\n      return campaign ? campaign.options : [];\n    }\n  },\n  methods: {\n    async submitVote() {\n      try {\n        const response = await axios.post('http://localhost:3000/cast', {\n          address: 'E',\n          // 替换为实际的投票者地址\n          message: {\n            option: this.selectedOption\n          },\n          campianId: this.selectedCampaign\n        });\n        console.log(response.data); // 处理响应数据\n        // 投票成功后的其他逻辑\n      } catch (error) {\n        console.error(error);\n        // 处理错误\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","id","options","selectedCampaign","selectedOption","computed","selectedCampaignOptions","campaign","find","c","methods","submitVote","response","post","address","message","option","campianId","console","log","error"],"sources":["/Users/wangxiao/voting_front/src/components/VotePage.vue"],"sourcesContent":["<template>\n  <div class=\"vote-page\">\n    <div class=\"container\">\n      <div class=\"campaign-select\">\n        <p>请选择想投票的 Campaign：</p>\n        <select v-model=\"selectedCampaign\">\n          <option v-for=\"campaign in campaigns\" :key=\"campaign.id\" :value=\"campaign.id\">\n            {{ campaign.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"vote-options\">\n        <p>请选择：</p>\n        <select v-model=\"selectedOption\">\n          <option v-for=\"option in selectedCampaignOptions\" :key=\"option\" :value=\"option\">\n            {{ option }}\n          </option>\n        </select>\n        <button @click=\"submitVote\" class=\"vote-button\">Vote</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'VotePage',\n  data() {\n    return {\n      campaigns: [\n        { id: 1, name: 'Campaign 1', options: ['Option 1', 'Option 2'] },\n        { id: 2, name: 'Campaign 2', options: ['Option 3', 'Option 4'] },\n        // 添加更多的 campaign 数据\n      ],\n      selectedCampaign: null,\n      selectedOption: null,\n    };\n  },\n  computed: {\n    selectedCampaignOptions() {\n      const campaign = this.campaigns.find(c => c.id === this.selectedCampaign);\n      return campaign ? campaign.options : [];\n    },\n  },\n  methods: {\n    async submitVote() {\n      try {\n        const response = await axios.post('http://localhost:3000/cast', {\n          address: 'E', // 替换为实际的投票者地址\n          message: { option: this.selectedOption },\n          campianId: this.selectedCampaign\n        });\n        console.log(response.data); // 处理响应数据\n        // 投票成功后的其他逻辑\n      } catch (error) {\n        console.error(error);\n        // 处理错误\n      }\n    }\n  },\n};\n</script>\n\n\n<style scoped>\n.vote-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 80%;\n}\n\n.campaign-select,\n.vote-options {\n  width: 45%;\n  text-align: center;\n  margin-top: 100px; /* 添加顶部间距 */\n}\n\n.campaign-select p,\n.vote-options p {\n  margin-bottom: 30px;\n\n}\n\n.vote-button {\n  margin-top: 20px;\n  padding: 10px 20px;\n  font-size: 16px;\n}\n</style>\n\n\n\n\n\n\n"],"mappings":"AA0BA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,CACT;QAAEC,EAAE,EAAE,CAAC;QAAEH,IAAI,EAAE,YAAY;QAAEI,OAAO,EAAE,CAAC,UAAU,EAAE,UAAU;MAAE,CAAC,EAChE;QAAED,EAAE,EAAE,CAAC;QAAEH,IAAI,EAAE,YAAY;QAAEI,OAAO,EAAE,CAAC,UAAU,EAAE,UAAU;MAAE;MAC/D;MAAA,CACD;MACDC,gBAAgB,EAAE,IAAI;MACtBC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,uBAAuBA,CAAA,EAAG;MACxB,MAAMC,QAAO,GAAI,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACR,EAAC,KAAM,IAAI,CAACE,gBAAgB,CAAC;MACzE,OAAOI,QAAO,GAAIA,QAAQ,CAACL,OAAM,GAAI,EAAE;IACzC;EACF,CAAC;EACDQ,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMf,KAAK,CAACgB,IAAI,CAAC,4BAA4B,EAAE;UAC9DC,OAAO,EAAE,GAAG;UAAE;UACdC,OAAO,EAAE;YAAEC,MAAM,EAAE,IAAI,CAACZ;UAAe,CAAC;UACxCa,SAAS,EAAE,IAAI,CAACd;QAClB,CAAC,CAAC;QACFe,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACb,IAAI,CAAC,EAAE;QAC5B;MACF,EAAE,OAAOqB,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;QACpB;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}