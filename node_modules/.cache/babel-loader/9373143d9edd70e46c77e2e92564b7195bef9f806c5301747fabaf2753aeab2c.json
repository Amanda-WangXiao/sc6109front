{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [],\n      selectedCampaign: null,\n      results: []\n    };\n  },\n  mounted() {\n    this.fetchCampaigns();\n  },\n  methods: {\n    async fetchCampaigns() {\n      try {\n        // 从服务器获取活动列表\n        const response = await axios.get('http://localhost:3000/campaigns');\n        this.campaigns = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchResults() {\n      try {\n        const response = await axios.post('http://localhost:3000/getCampaignResults', {\n          id: this.selectedCampaign\n        });\n        this.results = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","selectedCampaign","results","mounted","fetchCampaigns","methods","response","get","error","console","fetchResults","post","id"],"sources":["/Users/wangxiao/voting_front/src/components/ResultPage.vue"],"sourcesContent":["<template>\n  <div class=\"result-page\">\n    <div class=\"container\">\n      <div class=\"campaign-select\">\n        <p>请选择想查看的 Campaign 投票结果:</p>\n        <select v-model=\"selectedCampaign\" @change=\"fetchResults\">\n          <option v-for=\"campaign in campaigns\" :key=\"campaign.id\" :value=\"campaign.id\">\n            {{ campaign.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"result-table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Option Name</th>\n              <th>Votes</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(result, index) in results\" :key=\"index\">\n              <td>{{ result.optionName }}</td>\n              <td>{{ result.votes }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [],\n      selectedCampaign: null,\n      results: []\n    };\n  },\n  mounted() {\n    this.fetchCampaigns();\n  },\n  methods: {\n    async fetchCampaigns() {\n      try {\n        // 从服务器获取活动列表\n        const response = await axios.get('http://localhost:3000/campaigns');\n        this.campaigns = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async fetchResults() {\n      try {\n        const response = await axios.post('http://localhost:3000/getCampaignResults', {\n          id: this.selectedCampaign\n        });\n        this.results = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.result-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 80%;\n  margin-top: 50px; /* 添加顶部间距 */\n}\n\n.campaign-select {\n  width: 45%;\n  text-align: center;\n}\n\n.campaign-select p {\n  width: 200px; /* 固定投票下拉栏的宽度 */\n  margin-bottom: 10px;\n}\n\n.result-table {\n  width: 45%;\n  margin-top: 30px; /* 添加顶部间距 */\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nth,\ntd {\n  padding: 8px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n</style>"],"mappings":"AAgCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,gBAAgB,EAAE,IAAI;MACtBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF;QACA,MAAME,QAAO,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,iCAAiC,CAAC;QACnE,IAAI,CAACP,SAAQ,GAAIM,QAAQ,CAACP,IAAI;MAChC,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IACD,MAAME,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAMJ,QAAO,GAAI,MAAMT,KAAK,CAACc,IAAI,CAAC,0CAA0C,EAAE;UAC5EC,EAAE,EAAE,IAAI,CAACX;QACX,CAAC,CAAC;QACF,IAAI,CAACC,OAAM,GAAII,QAAQ,CAACP,IAAI;MAC9B,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}