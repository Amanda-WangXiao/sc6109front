{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [],\n      selectedCampaign: null,\n      results: [],\n      showResults: false\n    };\n  },\n  async created() {\n    try {\n      const response = await axios.get('http://54.255.190.101:5000/campaigns');\n      this.campaigns = response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    async getCampaignResults() {\n      try {\n        const response = await axios.get(`http://54.255.190.101:5000/campaign/${this.selectedCampaign.voting_id}`);\n        const {\n          options,\n          votes\n        } = response.data;\n        this.results = options.map((optionName, index) => ({\n          optionName,\n          votes: votes[index]\n        }));\n        this.showResults = true;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","selectedCampaign","results","showResults","created","response","get","error","console","methods","getCampaignResults","voting_id","options","votes","map","optionName","index"],"sources":["/Users/wangxiao/voting_front/src/components/ResultPage.vue"],"sourcesContent":["<template>\n  <div class=\"result-page\">\n    <div class=\"container\">\n      <div class=\"campaign-select\">\n        <p>请选择想查看的 Campaign 投票结果:</p>\n        <select v-model=\"selectedCampaign\">\n          <option v-for=\"campaign in campaigns\" :key=\"campaign.voting_id\" :value=\"campaign\">\n            {{ campaign.name }}\n          </option>\n        </select>\n        <button @click=\"getCampaignResults\">Check</button>\n      </div>\n      <div class=\"result-table\" v-if=\"showResults\">\n        <table>\n          <thead>\n            <tr>\n              <th>Option Name</th>\n              <th>Votes</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(result, index) in results\" :key=\"index\">\n              <td>{{ result.optionName }}</td>\n              <td>{{ result.votes }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [],\n      selectedCampaign: null,\n      results: [],\n      showResults: false\n    };\n  },\n  async created() {\n    try {\n      const response = await axios.get('http://54.255.190.101:5000/campaigns');\n      this.campaigns = response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  methods: {\n    async getCampaignResults() {\n      try {\n        const response = await axios.get(`http://54.255.190.101:5000/campaign/${this.selectedCampaign.voting_id}`);\n        const { options, votes } = response.data;\n        this.results = options.map((optionName, index) => ({\n          optionName,\n          votes: votes[index]\n        }));\n        this.showResults = true;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.result-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 80%;\n  margin-top: 50px; /* 添加顶部间距 */\n}\n\n.campaign-select {\n  width: 45%;\n  text-align: center;\n}\n.campaign-select select {\n  width: 200px; /* 设置下拉栏的固定宽度 */\n}\n\n.campaign-select p {\n  margin-bottom: 10px;\n}\n\n.result-table {\n  width: 45%;\n  margin-top: 30px; /* 添加顶部间距 */\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nth,\ntd {\n  padding: 8px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n</style>"],"mappings":"AAiCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,gBAAgB,EAAE,IAAI;MACtBC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAI;MACF,MAAMC,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,sCAAsC,CAAC;MACxE,IAAI,CAACN,SAAQ,GAAIK,QAAQ,CAACN,IAAI;IAChC,EAAE,OAAOQ,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAML,QAAO,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAE,uCAAsC,IAAI,CAACL,gBAAgB,CAACU,SAAU,EAAC,CAAC;QAC1G,MAAM;UAAEC,OAAO;UAAEC;QAAM,IAAIR,QAAQ,CAACN,IAAI;QACxC,IAAI,CAACG,OAAM,GAAIU,OAAO,CAACE,GAAG,CAAC,CAACC,UAAU,EAAEC,KAAK,MAAM;UACjDD,UAAU;UACVF,KAAK,EAAEA,KAAK,CAACG,KAAK;QACpB,CAAC,CAAC,CAAC;QACH,IAAI,CAACb,WAAU,GAAI,IAAI;MACzB,EAAE,OAAOI,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}