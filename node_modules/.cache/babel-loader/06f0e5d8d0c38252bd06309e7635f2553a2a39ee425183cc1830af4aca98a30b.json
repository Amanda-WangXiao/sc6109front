{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ab905f6e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"vote-page\"\n};\nconst _hoisted_2 = {\n  class: \"vote-buttons\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"disabled\"];\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  disabled: \"\"\n}, \"请选择\", -1 /* HOISTED */));\nconst _hoisted_6 = [\"value\"];\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.showVoteForm('project'))\n  }, \"Project Vote\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.showVoteForm('people'))\n  }, \"People Vote\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.showVoteForm('product'))\n  }, \"Product Vote\")]), $data.selectedVoteType ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"h2\", null, \"请为你喜欢的\" + _toDisplayString($data.voteTypeMap[$data.selectedVoteType]) + \"投票\", 1 /* TEXT */), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.selectedOption = $event),\n    disabled: $data.hasVoted\n  }, [_hoisted_5, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.options, option => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: option.id,\n      value: option.id\n    }, _toDisplayString(option.name), 9 /* TEXT, PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_4), [[_vModelSelect, $data.selectedOption]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.submitVote && $options.submitVote(...args)),\n    disabled: $data.hasVoted,\n    class: \"vote-button\"\n  }, \"Vote\", 8 /* PROPS */, _hoisted_7), $data.hasVoted ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"您已为 \" + _toDisplayString($data.selectedCampaignId) + \" 投票，选项为：\" + _toDisplayString($data.selectedOptionName), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementVNode","value","disabled","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","$event","$options","showVoteForm","$data","selectedVoteType","_hoisted_3","_toDisplayString","voteTypeMap","selectedOption","hasVoted","_hoisted_5","_Fragment","_renderList","options","option","id","name","_hoisted_6","_hoisted_4","args","submitVote","_hoisted_7","_hoisted_8","selectedCampaignId","selectedOptionName","_createCommentVNode"],"sources":["/Users/wangxiao/voting_front/src/components/VotePage.vue"],"sourcesContent":["<!-- VotePage.vue -->\n<template>\n    <div class=\"vote-page\">\n      <div class=\"vote-buttons\">\n        <button @click=\"showVoteForm('project')\">Project Vote</button>\n        <button @click=\"showVoteForm('people')\">People Vote</button>\n        <button @click=\"showVoteForm('product')\">Product Vote</button>\n      </div>\n      <div v-if=\"selectedVoteType\">\n        <h2>请为你喜欢的{{ voteTypeMap[selectedVoteType] }}投票</h2>\n        <select v-model=\"selectedOption\" :disabled=\"hasVoted\">\n          <option value=\"\" disabled>请选择</option>\n          <option v-for=\"option in options\" :key=\"option.id\" :value=\"option.id\">\n            {{ option.name }}\n          </option>\n        </select>\n        <button @click=\"submitVote\" :disabled=\"hasVoted\" class=\"vote-button\">Vote</button>\n        <p v-if=\"hasVoted\">您已为 {{ selectedCampaignId }} 投票，选项为：{{ selectedOptionName }}</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        selectedVoteType: '',\n        selectedOption: '',\n        selectedCampaignId: '',\n        selectedOptionName: '',\n        hasVoted: false,\n        voteTypeMap: {\n          project: 'Project',\n          people: 'People',\n          product: 'Product'\n        },\n        options: []\n      }\n    },\n    methods: {\n      showVoteForm(voteType) {\n        this.selectedVoteType = voteType;\n        this.fetchOptions();\n        this.resetForm();\n      },\n      fetchOptions() {\n        // 模拟从后端获取选项数据，根据不同的投票类型获取相应的选项\n        let options = [];\n        if (this.selectedVoteType === 'project') {\n          options = [\n            { id: 1, name: 'Project 1' },\n            { id: 2, name: 'Project 2' },\n            { id: 3, name: 'Project 3' }\n          ];\n        } else if (this.selectedVoteType === 'people') {\n          options = [\n            { id: 1, name: 'Person 1' },\n            { id: 2, name: 'Person 2' },\n            { id: 3, name: 'Person 3' }\n          ];\n        } else if (this.selectedVoteType === 'product') {\n          options = [\n            { id: 1, name: 'Product 1' },\n            { id: 2, name: 'Product 2' },\n            { id: 3, name: 'Product 3' }\n          ];\n        }\n        this.options = options;\n      },\n      submitVote() {\n        // 提交投票请求到后端\n        // 这里简化处理，直接更新数据\n        this.hasVoted = true;\n        this.selectedCampaignId = 'Campaign123';\n        this.selectedOptionName = this.options.find(option => option.id === this.selectedOption).name;\n      },\n      resetForm() {\n        this.selectedOption = '';\n        this.hasVoted = false;\n      }\n    }\n  }\n  </script>\n  \n  \n  <style scoped>\n  .vote-buttons {\n    margin-bottom: 20px;\n  }\n  \n  .vote-button {\n    background-color: #007bff;\n    color: #fff;\n    border: none;\n    padding: 10px 20px;\n    margin-top: 10px;\n    cursor: pointer;\n  }\n  \n  .vote-button:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n  }\n  \n  select:disabled {\n    background-color: #f0f0f0;\n  }\n  </style>"],"mappings":";;;EAESA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAc;;EAH/BC,GAAA;AAAA;mBAAA;gEAWUC,mBAAA,CAAsC;EAA9BC,KAAK,EAAC,EAAE;EAACC,QAAQ,EAAR;GAAS,KAAG;mBAXvC;mBAAA;;EAAAH,GAAA;AAAA;;uBAEII,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJJ,mBAAA,CAIM,OAJNK,UAIM,GAHJL,mBAAA,CAA8D;IAArDM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;KAAa,cAAY,GACrDV,mBAAA,CAA4D;IAAnDM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;KAAY,aAAW,GACnDV,mBAAA,CAA8D;IAArDM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;KAAa,cAAY,E,GAE5CC,KAAA,CAAAC,gBAAgB,I,cAA3BT,mBAAA,CAUM,OAlBZU,UAAA,GASQb,mBAAA,CAAoD,YAAhD,QAAM,GAAAc,gBAAA,CAAGH,KAAA,CAAAI,WAAW,CAACJ,KAAA,CAAAC,gBAAgB,KAAI,IAAE,iB,gBAC/CZ,mBAAA,CAKS;IAfjB,uBAAAO,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAUyBG,KAAA,CAAAK,cAAc,GAAAR,MAAA;IAAGN,QAAQ,EAAES,KAAA,CAAAM;MAC1CC,UAAsC,G,kBACtCf,mBAAA,CAESgB,SAAA,QAdnBC,WAAA,CAYmCT,KAAA,CAAAU,OAAO,EAAjBC,MAAM;yBAArBnB,mBAAA,CAES;MAF0BJ,GAAG,EAAEuB,MAAM,CAACC,EAAE;MAAGtB,KAAK,EAAEqB,MAAM,CAACC;wBAC7DD,MAAM,CAACE,IAAI,wBAb1BC,UAAA;kDAAAC,UAAA,I,gBAUyBf,KAAA,CAAAK,cAAc,E,GAM/BhB,mBAAA,CAAkF;IAAzEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAoB,IAAA,KAAElB,QAAA,CAAAmB,UAAA,IAAAnB,QAAA,CAAAmB,UAAA,IAAAD,IAAA,CAAU;IAAGzB,QAAQ,EAAES,KAAA,CAAAM,QAAQ;IAAEnB,KAAK,EAAC;KAAc,MAAI,iBAhBjF+B,UAAA,GAiBiBlB,KAAA,CAAAM,QAAQ,I,cAAjBd,mBAAA,CAAmF,KAjB3F2B,UAAA,EAiB2B,MAAI,GAAAhB,gBAAA,CAAGH,KAAA,CAAAoB,kBAAkB,IAAG,UAAQ,GAAAjB,gBAAA,CAAGH,KAAA,CAAAqB,kBAAkB,oBAjBpFC,mBAAA,e,KAAAA,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}