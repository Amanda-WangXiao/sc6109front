{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a065c7c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"result-page\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"result-title\"\n}, \"投票结果\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"result-container\"\n};\nconst _hoisted_4 = {\n  class: \"campaign-name\"\n};\nconst _hoisted_5 = {\n  class: \"result-table\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Option Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Votes\")])], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 遍历 votedResults 对象，每种投票类型创建一个结果展示区域 \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.votedResults, (result, voteType) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: voteType,\n      class: \"result-section\"\n    }, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($options.getCampaignName(voteType)) + \" Result\", 1 /* TEXT */), _createElementVNode(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(result.options, (option, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: index\n      }, [_createElementVNode(\"td\", null, _toDisplayString(option.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(option.votes), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createCommentVNode","_Fragment","_renderList","$data","votedResults","result","voteType","key","_hoisted_4","_toDisplayString","$options","getCampaignName","_hoisted_5","_hoisted_6","options","option","index","name","votes"],"sources":["/Users/wangxiao/voting_front/src/components/ResultPage.vue"],"sourcesContent":["<!-- ResultPage.vue -->\n<template>\n  <div class=\"result-page\"> \n    <h2 class=\"result-title\">投票结果</h2>\n    <div class=\"result-container\">\n       <!-- 遍历 votedResults 对象，每种投票类型创建一个结果展示区域 -->\n      <div v-for=\"(result, voteType) in votedResults\" :key=\"voteType\" class=\"result-section\">\n        <h3 class=\"campaign-name\">{{ getCampaignName(voteType) }} Result</h3>\n        <table class=\"result-table\">\n          <thead>\n            <tr>\n              <th>Option Name</th>\n              <th>Votes</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(option, index) in result.options\" :key=\"index\">\n              <td>{{ option.name }}</td>\n              <td>{{ option.votes }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      votedResults: {\n        project: {\n          options: [\n            { id: 1, name: 'Project 1', votes: 0 },\n            { id: 2, name: 'Project 2', votes: 0 },\n            { id: 3, name: 'Project 3', votes: 0 }\n          ]\n        },\n        people: {\n          options: [\n            { id: 1, name: 'Alice', votes: 0 },\n            { id: 2, name: 'Bob', votes: 0 },\n            { id: 3, name: 'Charlie', votes: 0 }\n          ]\n        },\n        product: {\n          options: [\n            { id: 1, name: 'Apple', votes: 0 },\n            { id: 2, name: 'Banana', votes: 0 },\n            { id: 3, name: 'Orange', votes: 0 }\n          ]\n        }\n      }\n    };\n  },\n  methods: {\n    getCampaignName(voteType) {\n      switch (voteType) {\n        case 'project':\n          return 'Project Vote';\n        case 'people':\n          return 'People Vote';\n        case 'product':\n          return 'Product Vote';\n        default:\n          return '';\n      }\n    },\n    updateVotedResults(results) {\n      for (const voteType in this.votedResults) {\n        if (results[voteType]) {\n          this.votedResults[voteType].options = results[voteType].options;\n        }\n      }\n    }\n  },\n  mounted() {\n    axios.get('http://localhost:3000/api/result')\n      .then(response => {\n        this.updateVotedResults(response.data);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }\n};\n</script>\n\n\n\n\n<style scoped>\n.result-page {\n  text-align: center;\n}\n\n.result-title {\n  margin-bottom: 30px;\n}\n\n.result-container {\n  display: flex;\n  justify-content: space-around;\n}\n\n.result-section {\n  width: 30%;\n}\n\n.campaign-name {\n  position: relative;\n  padding-bottom: 10px;\n  margin-bottom: 20px;\n}\n\n.campaign-name::after {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 80px;\n  height: 2px;\n  background-color: #ccc;\n}\n\n.result-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nth, td {\n  padding: 8px;\n  text-align: center;\n}\n\nth {\n  background-color: #f0f0f0;\n}\n\ntd {\n  border-bottom: 1px solid #ddd;\n}\n\nth:first-child,\ntd:first-child {\n  text-align: left;\n  padding-right: 20px;\n}\n</style>"],"mappings":";;;EAEOA,KAAK,EAAC;AAAa;gEACtBC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAc,GAAC,MAAI;;EACxBA,KAAK,EAAC;AAAkB;;EAGrBA,KAAK,EAAC;AAAe;;EAClBA,KAAK,EAAC;AAAc;gEACzBC,mBAAA,CAKQ,gB,aAJNA,mBAAA,CAGK,a,aAFHA,mBAAA,CAAoB,YAAhB,aAAW,G,aACfA,mBAAA,CAAc,YAAV,OAAK,E;;uBAVrBC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJC,UAAkC,EAClCH,mBAAA,CAmBM,OAnBNI,UAmBM,GAlBHC,mBAAA,yCAA4C,G,kBAC7CJ,mBAAA,CAgBMK,SAAA,QAtBZC,WAAA,CAMwCC,KAAA,CAAAC,YAAY,EANpD,CAMmBC,MAAM,EAAEC,QAAQ;yBAA7BV,mBAAA,CAgBM;MAhB2CW,GAAG,EAAED,QAAQ;MAAEZ,KAAK,EAAC;QACpEC,mBAAA,CAAqE,MAArEa,UAAqE,EAAAC,gBAAA,CAAxCC,QAAA,CAAAC,eAAe,CAACL,QAAQ,KAAI,SAAO,iBAChEX,mBAAA,CAaQ,SAbRiB,UAaQ,GAZNC,UAKQ,EACRlB,mBAAA,CAKQ,iB,kBAJNC,mBAAA,CAGKK,SAAA,QAnBjBC,WAAA,CAgB0CG,MAAM,CAACS,OAAO,EAhBxD,CAgBwBC,MAAM,EAAEC,KAAK;2BAAzBpB,mBAAA,CAGK;QAH0CW,GAAG,EAAES;MAAK,IACvDrB,mBAAA,CAA0B,YAAAc,gBAAA,CAAnBM,MAAM,CAACE,IAAI,kBAClBtB,mBAAA,CAA2B,YAAAc,gBAAA,CAApBM,MAAM,CAACG,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}