{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [{\n        id: 1,\n        name: 'Campaign 1'\n      }, {\n        id: 2,\n        name: 'Campaign 2'\n      }],\n      selectedCampaign: 1,\n      results: []\n    };\n  },\n  mounted() {\n    // 获取默认选中活动的投票结果\n    this.getCampaignResults();\n  },\n  methods: {\n    async getCampaignResults() {\n      try {\n        // 向服务器发送获取选定活动的投票结果的请求\n        const response = await axios.post('http://localhost:3000/getCampaignResults', {\n          id: this.selectedCampaign\n        });\n        // 将响应数据映射到 results 数组\n        this.results = response.data.options.map((option, index) => ({\n          optionName: option,\n          votes: response.data.results[index]\n        }));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","id","selectedCampaign","results","mounted","getCampaignResults","methods","response","post","options","map","option","index","optionName","votes","error","console"],"sources":["/Users/wangxiao/voting_front/src/components/ResultPage.vue"],"sourcesContent":["<template>\n  <div class=\"result-page\">\n    <div class=\"container\">\n      <div class=\"campaign-select\">\n        <p>请选择想查看的 Campaign 投票结果:</p>\n        <select v-model=\"selectedCampaign\" @change=\"getCampaignResults\">\n          <option v-for=\"campaign in campaigns\" :key=\"campaign.id\" :value=\"campaign.id\">\n            {{ campaign.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"result-table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Option Name</th>\n              <th>Votes</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(result, index) in results\" :key=\"index\">\n              <td>{{ result.optionName }}</td>\n              <td>{{ result.votes }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ResultPage',\n  data() {\n    return {\n      campaigns: [\n        { id: 1, name: 'Campaign 1' },\n        { id: 2, name: 'Campaign 2' }\n      ],\n      selectedCampaign: 1,\n      results: []\n    };\n  },\n  mounted() {\n    // 获取默认选中活动的投票结果\n    this.getCampaignResults();\n  },\n  methods: {\n    async getCampaignResults() {\n      try {\n        // 向服务器发送获取选定活动的投票结果的请求\n        const response = await axios.post('http://localhost:3000/getCampaignResults', {\n          id: this.selectedCampaign\n        });\n        // 将响应数据映射到 results 数组\n        this.results = response.data.options.map((option, index) => ({\n          optionName: option,\n          votes: response.data.results[index]\n        }));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.result-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 80%;\n  margin-top: 50px; /* 添加顶部间距 */\n}\n\n.campaign-select {\n  width: 45%;\n  text-align: center;\n}\n.campaign-select select {\n  width: 200px; /* 设置下拉栏的固定宽度 */\n}\n\n.campaign-select p {\n  margin-bottom: 10px;\n}\n\n.result-table {\n  width: 45%;\n  margin-top: 30px; /* 添加顶部间距 */\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\nth,\ntd {\n  padding: 8px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n</style>"],"mappings":"AAgCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,CACT;QAAEC,EAAE,EAAE,CAAC;QAAEH,IAAI,EAAE;MAAa,CAAC,EAC7B;QAAEG,EAAE,EAAE,CAAC;QAAEH,IAAI,EAAE;MAAa,EAC7B;MACDI,gBAAgB,EAAE,CAAC;MACnBC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF;QACA,MAAME,QAAO,GAAI,MAAMV,KAAK,CAACW,IAAI,CAAC,0CAA0C,EAAE;UAC5EP,EAAE,EAAE,IAAI,CAACC;QACX,CAAC,CAAC;QACF;QACA,IAAI,CAACC,OAAM,GAAII,QAAQ,CAACR,IAAI,CAACU,OAAO,CAACC,GAAG,CAAC,CAACC,MAAM,EAAEC,KAAK,MAAM;UAC3DC,UAAU,EAAEF,MAAM;UAClBG,KAAK,EAAEP,QAAQ,CAACR,IAAI,CAACI,OAAO,CAACS,KAAK;QACpC,CAAC,CAAC,CAAC;MACL,EAAE,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}